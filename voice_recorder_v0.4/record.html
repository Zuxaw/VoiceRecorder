<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/record.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animationRecordBouton.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/js/all.min.js"></script>
    <script src="https://devweb.prinv.isen.fr/projet/common/utils.js"></script>
    <script src="js/data.js"></script>
    <title>Document</title>
</head>

<body>

    <!-- header -->
    <div id="nav">
        <div class="logo">
            <img src="./assets/micro.svg">
            <h1 class="titre">VoiceRecorder</h1>
        </div>
        <div class="links">
            <a href="/">Accueil</a>
            <a href="/record.html">Enregistrement</a>
        </div>
    </div>

    <!-- first page -->
    <div class="page">
        <div class="main" id="initialisation">
            <h1>Initialisation</h1>
            <form class="main-child">
                <h2>Sexe</h2>
                <!-- sexe selection -->
                <div class="sex">
                    <input type="radio" name="SC" id="N">
                    <label for="N">Non défini</label>
                    <input type="radio" name="SC" id="M">
                    <label for="M">Masculin</label>
                    <input type="radio" name="SC" id="F">
                    <label for="F">Féminin</label>
                </div>
                <div class="age">
                    <h2>Age</h2>
                    <!-- age selection -->
                    <input id="Age" type="number" min="1" max="120" step="1" value="0">
                </div>
                <h2>Vérification du micro :</h2>
                <progress id="micro_test_bar" value="0" max="100" ref="micro"></progress>

                <!-- user interaction -->
                <p class="alert"></p>

                <!-- navigation -->
                <div class="navigation">
                    <a href="/" class="prev"><i class="fas fa-angle-left"></i> Précédent</a>
                    <span class="next" onclick="NextPage()">Suivant <i class="fas fa-angle-right"></i></span>
                </div>
            </form>
        </div>
    </div>

    <!-- 2nd page -->
    <div class="page" hidden>
        <div class="main" id="record">
            <p>Cliquez sur <i class="fas fa-microphone btIcon"></i> <span class="instruction">puis lisez la phrase à
                    haute voix.</span></p>
            <div class="progression">
                <progress class="progress" value="0"></progress>
                <p id="percent"></p>
            </div>
            <div class="main-child">
                <div class="text_box">
                    <p class="text"></p>
                </div>

                <div class="btRecord">
                    <div class="bar">
                        <span class="wave"></span>
                        <span class="wave"></span>
                        <span class="wave"></span>
                        <span class="wave"></span>
                        <button class="border" type="button" onclick="ToggleRecording()"><i
                                class="fas fa-microphone btIcon"></i></button>
                        <span class="wave"></span>
                        <span class="wave"></span>
                        <span class="wave"></span>
                        <span class="wave"></span>
                    </div>
                </div>



                <!-- navigation system -->
                <div class="navigation">
                    <span class="previous" onclick="navigation.previousPage()"><i class="fas fa-angle-left"></i>
                        Précédent</span>
                    <span class="next" onclick="NextPage()">Suivant <i class="fas fa-angle-right"></i></span>
                </div>

                <!-- user interaction -->
                <p class="alert" hidden>Cette phrase ne s'est pas bien enregistrée, veuillez recommencer.</p>
                <p class="alert" hidden>Vous n'avez pas fini d'enregistrer toutes les phrases.</p>

                <!-- list of audio recorded -->
                <div id="record_list">
                    <div class="record_list_child">
                        <ul id="listrecords"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- last page -->
    <div class="page" hidden>
        <div class="main" id="remerciement">
            <h1>MERCI</h1>
            <p>Tous les enregistrements ont été effectués</p>
            <a href="/">Accueil</a>
        </div>
    </div>

    <!-- script importation -->
    <script src="js/Navigation.js"></script>
    <script src="js/Record.js"></script>
</body>

</html>